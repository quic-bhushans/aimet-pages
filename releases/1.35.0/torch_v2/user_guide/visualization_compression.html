<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AIMET visualization &mdash; AI Model Efficiency Toolkit Documentation: ver 1.35.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/style.css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

    
    
    <a href="../torch_docs/index.html" class="icon icon-home">
    AI Model Efficiency Toolkit
      <img src="../_static/brain_logo.png" class="logo" alt="Logo"/>
    </a>
      <div class="version">
        1.35.0
      </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install_host.html">Install in Host Machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install_docker.html">Install in Docker Container</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/tutorials/quickstart_guide.html">Quickstart Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/examples/ptq.html">Post-Training Quantization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Feature Descriptions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="adaround.html"> Adaptive Rounding (AdaRound)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AIMET PyTorch API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/quantized_modules.html">Quantized Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/quantizer.html">Quantizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/api/nn.quantization_mixin.html">QuantizationMixin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/api/quantization/affine/index.html">quantization.affine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/api/quantization/float/index.html">quantization.float</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torch_docs/encoding_analyzer.html">Encoding Analyzers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../torch_docs/index.html">AI Model Efficiency Toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../torch_docs/index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">AIMET visualization</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/visualization_compression.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="aimet-visualization">
<h1>AIMET visualization<a class="headerlink" href="#aimet-visualization" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>AIMET visualization augments the analytical capabilities of the AIMET toolkit by providing more detailed insights into AIMET features. AIMET visualization enables you to analyze model layer compressibility, to highlight potential issues when applying quantization, and to display progress during computationally heavy tasks.</p>
</section>
<section id="design">
<h2>Design<a class="headerlink" href="#design" title="Permalink to this heading"></a></h2>
<p>AIMET visualization starts a Bokeh server session on which you invoke functions based on your model.</p>
<p>The figure below illustrates the server arrangement:</p>
<img alt="../_images/vis_1.png" src="../_images/vis_1.png" />
</section>
<section id="compression">
<h2>Compression<a class="headerlink" href="#compression" title="Permalink to this heading"></a></h2>
<p>You can view evaluation scores during compression in a table as they are computed. Progress is updated in real time. After <a class="reference internal" href="greedy_compression_ratio_selection.html"><span class="doc">greedy selection</span></a> has run, per-layer optimal compression ratios are displayed in a graph.</p>
<img alt="../_images/vis_4.png" src="../_images/vis_4.png" />
<img alt="../_images/vis_5.png" src="../_images/vis_5.png" />
<img alt="../_images/vis_6.png" src="../_images/vis_6.png" />
<img alt="../_images/vis_7.png" src="../_images/vis_7.png" />
</section>
<section id="starting-a-bokeh-server-session">
<h2>Starting a Bokeh server session<a class="headerlink" href="#starting-a-bokeh-server-session" title="Permalink to this heading"></a></h2>
<p>Start a Bokeh server by typing this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bokeh</span> <span class="n">serve</span> <span class="o">--</span><span class="n">allow</span><span class="o">-</span><span class="n">websocket</span><span class="o">-</span><span class="n">origin</span><span class="o">=&lt;</span><span class="n">host</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">port</span> <span class="n">number</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">port</span><span class="o">=&lt;</span><span class="n">port</span> <span class="n">number</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">--allow-websocket-origin</span></code></dt><dd><p>specifies which network addresses to listen on. Required only for non-local viewing.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--port</span></code></dt><dd><p>specifies what network port to listen on. If not specified, 5006, the default, is used.</p>
</dd>
</dl>
</section>
<section id="visualizing-compression-ratios">
<h2>Visualizing compression ratios<a class="headerlink" href="#visualizing-compression-ratios" title="Permalink to this heading"></a></h2>
<p><strong>Prerequisites</strong></p>
<p>Install the Bokeh server if necessary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">bokeh</span>
</pre></div>
</div>
<p>Start the Bokeh server as described above.</p>
<p><strong>Procedure</strong></p>
<dl>
<dt>At execution time:</dt><dd><p>To visualize eval scores and compression ratios at execution time:</p>
<ol class="arabic">
<li><p>Include a visualization URL, <code class="docutils literal notranslate"><span class="pre">http://&lt;host</span> <span class="pre">name&gt;:&lt;port</span> <span class="pre">number&gt;/</span></code>, in the top level function <code class="docutils literal notranslate"><span class="pre">compress_model</span></code>.</p>
<blockquote>
<div><p>If no visualizations are necessary, the URL defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div></blockquote>
</li>
<li><p>View the URL to see the visualizations:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">http://&lt;host</span> <span class="pre">name&gt;:&lt;port</span> <span class="pre">number&gt;/?&amp;bokeh-session-id=compression</span></code></p>
<p>Note that the Bokeh session ID is “compression”.</p>
</div></blockquote>
</li>
</ol>
</dd>
<dt>After execution:</dt><dd><p>To visualize eval scores and compression ratios after execution:</p>
<ol class="arabic">
<li><p>Decide which functions to use, one or both of:  <code class="docutils literal notranslate"><span class="pre">display_eval_scores</span></code> and <code class="docutils literal notranslate"><span class="pre">display_comp_ratio_plot</span></code>.</p>
<blockquote>
<div><p>See the “Model Compression” In the API documentation.</p>
</div></blockquote>
</li>
<li><p>Instantiate a <code class="docutils literal notranslate"><span class="pre">VisualizeCompression</span></code> instance by passing in a visualization URL, <code class="docutils literal notranslate"><span class="pre">http://&lt;host</span> <span class="pre">name&gt;:&lt;port</span> <span class="pre">number&gt;/</span></code>.</p></li>
<li><p>View the URL to see the visualizations:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">http://&lt;host</span> <span class="pre">name&gt;:&lt;port</span> <span class="pre">number&gt;/?&amp;bokeh-session-id=compression</span></code></p>
<p>Note that the Bokeh session ID is “compression”.</p>
</div></blockquote>
</li>
</ol>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Qualcomm Innovation Center, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>